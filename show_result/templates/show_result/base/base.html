{% extends 'base.html'%}
    {% block content %}
    <div class="col-xs-12" style="height:50px;"></div>
    <div class="container">
        <div class="card">
            <form action="" method="POST">
                {% csrf_token %}
                <div class="card-body">
                    <div class="row g-3">

                        <div class="col-sm-6">
                            <input type="text" class="form-control" name="position" placeholder="Address"
                                value="{{self.inputPosition}}" id="position">
                        </div>
                        <div class="col-sm-2">
                            <button type="button" class="btn btn-outline-info col-sm" onclick="getLocation()">Use
                                Current
                                Position</button>
                        </div>
                        <div class="col-sm-3">
                            <input class="form-control" placeholder="Distance" type="number" name="distance"
                                value="{{self.inputDistance}}">
                        </div>
                        <div class="col-sm">
                            <button type="submit" class="btn btn-primary col-sm">Search</button>
                        </div>

                    </div>

                </div>
            </form>
        </div>
    </div>
    {% block searchResult %}
    {% endblock %}

    <script>
        var x = document.getElementById("position");

        function getLocation() {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(showPosition);
            } else {
                x.setAttribute('value', "Geolocation is not supported by this browser.");
            }
        }

        function showPosition(position) {
            x.setAttribute('value', position.coords.latitude +
                "," + position.coords.longitude);
        }
    </script>
    <!-- <script>
        document.getElementById("current").addEventListener("click", function () {
            document.getElementById("position").setAttribute('value', 'Current Position');
        });
    </script> -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous">
    </script>
    {% endblock %}